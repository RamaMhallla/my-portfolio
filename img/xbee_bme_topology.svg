<!-- Inline SVG: WSN topology (Sender -> Receiver over IEEE 802.15.4) -->
<svg role="img" aria-labelledby="wsnTitle wsnDesc"
     viewBox="0 0 1200 600" width="100%" height="auto" style="max-width:100%;">
  <title id="wsnTitle">WSN topology: Sender to Receiver over IEEE 802.15.4</title>
  <desc id="wsnDesc">
    Waspmote sender with BME sensor transmitting TEMP/HUM/PRES to an XBee receiver.
    Link uses IEEE 802.15.4 (PAN 0x1234, CH 0x0F).
  </desc>

  <defs>
    <style>
      text{font-family:'Poppins',sans-serif}
      .label{font-weight:600; fill:#0f172a}
      .small{font-size:18px; fill:#334155}
    </style>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="6" stdDeviation="10" flood-opacity="0.15"/>
    </filter>
    <linearGradient id="nodeGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#e0f2fe"/>
      <stop offset="100%" stop-color="#dbeafe"/>
    </linearGradient>
    <marker id="arrow" markerWidth="16" markerHeight="16" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 Z" fill="#2563eb"/>
    </marker>
  </defs>

  <rect x="40" y="40" width="1120" height="520" rx="24" fill="white" filter="url(#shadow)"/>

  <!-- Sender node -->
  <g transform="translate(80,180)" filter="url(#shadow)">
    <rect width="400" height="220" rx="24" fill="url(#nodeGrad)" stroke="#38bdf8" stroke-width="2"/>
    <g transform="translate(24,24)">
      <rect x="0" y="0" width="64" height="44" rx="8" fill="white" stroke="#38bdf8"/>
      <circle cx="16" cy="22" r="4" fill="#38bdf8"/>
      <circle cx="32" cy="22" r="4" fill="#38bdf8"/>
      <circle cx="48" cy="22" r="4" fill="#38bdf8"/>
    </g>
    <text x="200" y="64" font-size="22" text-anchor="middle" class="label">
      Sender (Waspmote + BME)
    </text>
    <text x="200" y="94" class="small" text-anchor="middle">Socket A &#8226; Cities PRO</text>
    <text x="200" y="122" class="small" text-anchor="middle">Reads Temperature / Humidity / Pressure</text>
  </g>

  <!-- Receiver node -->
  <g transform="translate(720,180)" filter="url(#shadow)">
    <rect width="400" height="220" rx="24" fill="url(#nodeGrad)" stroke="#6366f1" stroke-width="2"/>
    <g transform="translate(24,24)">
      <circle cx="28" cy="22" r="6" fill="#6366f1"/>
      <path d="M40,22 q20,-20 40,0" fill="none" stroke="#6366f1" stroke-width="2"/>
      <path d="M40,22 q20,20 40,0"  fill="none" stroke="#6366f1" stroke-width="2"/>
    </g>
    <text x="200" y="64" font-size="22" text-anchor="middle" class="label">
      Receiver (XBee)
    </text>
    <text x="200" y="94" class="small" text-anchor="middle">Node ID: node_RX</text>
    <text x="200" y="122" class="small" text-anchor="middle">Computes median &amp; average (n=10)</text>
  </g>

  <!-- Link + arrow -->
  <path d="M520,290 L720,290" stroke="#2563eb" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

  <!-- Link label -->
  <text x="620" y="268" text-anchor="middle" font-size="18" fill="#1e293b" font-weight="600">
    IEEE 802.15.4
  </text>
  <text x="620" y="292" text-anchor="middle" class="small">PAN 0x1234 &#8226; CH 0x0F &#8226; AES off</text>

  <!-- Radio waves -->
  <g opacity="0.5">
    <path d="M560,262 q60,-32 120,0" fill="none" stroke="#60a5fa" stroke-width="2"/>
    <path d="M560,318 q60,32 120,0"  fill="none" stroke="#60a5fa" stroke-width="2"/>
  </g>

  <!-- Payload chips -->
  <g transform="translate(520,330)">
    <rect x="0"   y="0" width="90" height="32" rx="16" fill="#e2e8f0"/>
    <rect x="100" y="0" width="90" height="32" rx="16" fill="#e2e8f0"/>
    <rect x="200" y="0" width="110" height="32" rx="16" fill="#e2e8f0"/>
    <text x="45"  y="21" text-anchor="middle" font-size="16" fill="#0f172a">TEMP</text>
    <text x="145" y="21" text-anchor="middle" font-size="16" fill="#0f172a">HUM</text>
    <text x="255" y="21" text-anchor="middle" font-size="16" fill="#0f172a">PRES</text>
  </g>
</svg>
